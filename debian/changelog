cm4all-workshop (2.0.11) unstable; urgency=low

  * 

 --   

cm4all-workshop (2.0.10) unstable; urgency=low

  * cron: pass LISTENER_TAG to translation server

 -- Max Kellermann <mk@cm4all.com>  Fri, 09 Jun 2017 13:01:54 -0000

cm4all-workshop (2.0.9) unstable; urgency=low

  * sql: write "NEW" in upper-case letters in PostgreSQL RULE
  * cron: system call filter
  * cron: support FORBID_USER_NS
  * cron: store HTTP errors in the results table
  * cron: implement email notification

 -- Max Kellermann <mk@cm4all.com>  Wed, 07 Jun 2017 21:52:46 -0000

cm4all-workshop (2.0.8) unstable; urgency=low

  * build with Meson and Ninja
  * check for early PostgreSQL errors (e.g. DNS lookup failures)
  * improved uid/gid verify error messages
  * automatically allow uids/gids from Workshop plans
  * doc: document the GRANT on table "cronresults"

 -- Max Kellermann <mk@cm4all.com>  Tue, 04 Apr 2017 10:37:43 -0000

cm4all-workshop (2.0.7) unstable; urgency=low

  * cron: support "special" schedule strings such as "@daily"
  * cron: add special schedule "@once"

 -- Max Kellermann <mk@cm4all.com>  Tue, 31 Jan 2017 10:09:51 -0000

cm4all-workshop (2.0.6) unstable; urgency=low

  * cron: fix HTTP crash bug
  * cron: implement command URNs
  * spawn: forbid ptrace() and other dangerous system calls

 -- Max Kellermann <mk@cm4all.com>  Wed, 25 Jan 2017 21:44:35 -0000

cm4all-workshop (2.0.5) unstable; urgency=low

  * cron: capture the process output and save to "cronresults" table
  * cron: capture the HTTP response and save to "cronresults" table
  * cron: improved logging of failed HTTP requests

 -- Max Kellermann <mk@cm4all.com>  Wed, 04 Jan 2017 17:50:17 -0000

cm4all-workshop (2.0.4) unstable; urgency=low

  * cron: store execution results in the new "cronresults" table
  * cron: implement timeout (5 minutes)
  * cron: command can be "http://" URL
  * cron: cancel all jobs on shutdown

 -- Max Kellermann <mk@cm4all.com>  Wed, 21 Dec 2016 11:33:05 -0000

cm4all-workshop (2.0.3) unstable; urgency=low

  * workshop: load configuration from /etc/cm4all/workshop/workshop.conf
  * workshop: support multiple databases ("partitions")
  * cron: fix job execution use-after-free bug
  * cron: support multiple databases ("partitions")
  * cron: merge with Workshop
  * support PostgreSQL schemas

 -- Max Kellermann <mk@cm4all.com>  Mon, 05 Dec 2016 10:12:31 -0000

cm4all-workshop (2.0.2) unstable; urgency=low

  * spawn: no signal interruption while waiting for client to become ready
  * cron: new sub-project which is instructed by a translation server

 -- Max Kellermann <mk@cm4all.com>  Wed, 23 Nov 2016 15:56:43 -0000

cm4all-workshop (2.0.1) unstable; urgency=low

  * use monotonic clock instead of real-time clock
  * fix file descriptor leaks
  * suport syslog over IPv6
  * load plans from /usr/share/cm4all/workshop/plans
  * import the beng-proxy child process spawner
  * require systemd
  * systemd: set Type=notify

 -- Max Kellermann <mk@cm4all.com>  Mon, 10 Oct 2016 17:31:41 -0000

cm4all-workshop (1.0.12) unstable; urgency=low

  * init: auto-create /var/run/cm4all
  * systemd: tweak Linux CPU scheduler settings

 -- Max Kellermann <mk@cm4all.com>  Tue, 06 Sep 2016 20:28:01 -0000

cm4all-workshop (1.0.11) unstable; urgency=low

  * fix chroot
  * enable the systemd service automatically

 -- Max Kellermann <mk@cm4all.com>  Thu, 18 Aug 2016 12:04:30 -0000

cm4all-workshop (1.0.10) unstable; urgency=low

  * systemd: implement "reload" using SIGHUP
  * systemd: enforce journal identifier "cm4all-workshop"

 -- Max Kellermann <mk@cm4all.com>  Mon, 18 Jul 2016 11:50:28 -0000

cm4all-workshop (1.0.9) unstable; urgency=low

  * systemd support, log to journald

 -- Max Kellermann <mk@cm4all.com>  Mon, 21 Dec 2015 09:04:34 -0000

cm4all-workshop (1.0.8) unstable; urgency=low

  * queue: add missing check to take advantage of INDEX "jobs_release"

 -- Max Kellermann <mk@cm4all.com>  Fri, 07 Nov 2014 09:07:45 -0000

cm4all-workshop (1.0.7) unstable; urgency=low

  * doc: allow UPDATE on unassigned jobs
  * sql: notify all clients when a job was finished
    - requires PostgreSQL 9.1 or newer
    - must reapply jobs.sql for the new "CREATE RULE" statement

 -- Max Kellermann <mk@cm4all.com>  Mon, 19 Nov 2012 15:55:00 -0000

cm4all-workshop (1.0.6) unstable; urgency=low

  * debian/init: use "exec" to invoke the logger
  * debian/control: add "Vcs-git" header
  * debian/control: add ${misc:Depends}

 -- Max Kellermann <mk@cm4all.com>  Fri, 21 Sep 2012 07:51:15 -0000

cm4all-workshop (1.0.5) unstable; urgency=low

  * jobs.sql: removed initial "DROP TABLE"
  * queue: reconnect after UPDATE failure

 -- Max Kellermann <mk@cm4all.com>  Fri, 21 Oct 2011 18:08:30 +0200

cm4all-workshop (1.0.4) unstable; urgency=low

  * move jobs.sql to its own, independend package

 -- Christian Weber <cw@cm4all.com>  Wed, 02 Feb 2011 10:47:11 +0100

cm4all-workshop (1.0.3) unstable; urgency=low

  * queue: allow startup without database connection
  * build with GLib

 -- Max Kellermann <mk@cm4all.com>  Mon, 23 Nov 2009 14:11:36 +0100

cm4all-workshop (1.0.2) unstable; urgency=low

  * finished the "USER" to "WORKSHOP_USER" variable rename in the init
    script

 -- Christian Weber <cw@cm4all.com>  Thu, 26 Mar 2009 16:02:41 +0100

cm4all-workshop (1.0.1) unstable; urgency=low

  * renamed the .default variable "USER" to "WORKSHOP_USER", trying to
    retain compatibility with old .default files
  * build with libpq5 (PostgreSQL 8.3)

 -- Max Kellermann <mk@cm4all.com>  Mon, 02 Mar 2009 12:07:20 +0100

cm4all-workshop (1.0) unstable; urgency=low

  * bumped version number to 1.0

 -- Max Kellermann <mk@cm4all.com>  Thu, 05 Jun 2008 16:56:10 +0200

cm4all-workshop (0.2.4) unstable; urgency=low

  * use the libdaemon user code
  * run logger as user "cm4all-logger"
  * delete log directory on purge
  * bugfix: re-initialize event in queue_set_timeout()
  * moved DH_COMPAT to debian/compat

 -- Max Kellermann <mk@cm4all.com>  Mon, 18 Feb 2008 14:06:07 +0100

cm4all-workshop (0.2.3) unstable; urgency=low

  * set real uid to non-privileged user
  * call dh_installdirs in debian/rules

 -- Max Kellermann <mk@cm4all.com>  Tue, 18 Sep 2007 12:15:36 +0200

cm4all-workshop (0.2.2) unstable; urgency=low

  * build with libevent 1.1, show libevent information
  * column "id" should be a primary key
  * fixed gcc warning on PowerPC due to char being unsigned
  * check "time_done IS NULL" for improved index usage
  * added row limit to pg_select_new_jobs()
  * don't use expression in ORDER BY clause, perform two separate queries
    instead

 -- Max Kellermann <mk@cm4all.com>  Fri, 22 Jun 2007 09:48:45 +0200

cm4all-workshop (0.2.1) unstable; urgency=low

  * increment num_counters in workplace_full_plan_names(), this fixes a
    bug where some plans can exceed their concurrency limit
  * plans which are already running have a lower priority
  * fixed getopt optstring
  * generate XHTML documentation in UTF-8

 -- Max Kellermann <mk@cm4all.com>  Thu, 26 Apr 2007 10:37:11 +0200

cm4all-workshop (0.2.0) unstable; urgency=low

  * bugfix: added missing 'return' when the concurrency limit is reached
  * update the plan filter after a new job is started
  * interrupt queue_run() when the plan filter has been changed
  * do not set a new timeout when the queue is disabled
  * try to reconnect to PostgreSQL every 10 seconds
  * implemented a per-plan maximum concurrency
  * set default file's mode to 0600
  * documented the debian default file

 -- Max Kellermann <mk@cm4all.com>  Fri, 16 Feb 2007 11:06:39 +0100

cm4all-workshop (0.1.6) unstable; urgency=low

  * fixed endless loop in expand_vars()
  * pass PostgreSQL DSN as environment variable, for security reasons
  * increased shutdown timeout to 60 seconds
  * moved the -doc package to section non-free/doc

 -- Max Kellermann <mk@cm4all.com>  Mon, 12 Feb 2007 11:17:48 +0100

cm4all-workshop (0.1.5) unstable; urgency=low

  * fixed "SIGHUP" typo in init script
  * removed ellipsis from init script messages
  * use libcm4all-daemon
  * don't build with cdbs
  * check PostgreSQL notifies after every query

 -- Max Kellermann <mk@cm4all.com>  Tue,  6 Feb 2007 10:04:37 +0100

cm4all-workshop (0.1.4) unstable; urgency=low

  * set supplementary groups
  * delete pidfile before exiting
  * moved VERSION to version.h
  * use start-stop-daemon instead of LSB's start_daemon due to Debian bug
    #406059
  * log with multilog by default

 -- Max Kellermann <mk@cm4all.com>  Mon, 29 Jan 2007 15:27:38 +0100

cm4all-workshop (0.1.3) unstable; urgency=low

  * added plan variable NODE
  * documented the plan variables
  * disallow user "root" for plans
  * check stdin_null() return value
  * don't close(0) in daemonize()
  * fixed double queue run on startup

 -- Max Kellermann <mk@cm4all.com>  Thu,  9 Nov 2006 12:05:39 +0100

cm4all-workshop (0.1.2) unstable; urgency=low

  * using libevent

 -- Max Kellermann <mk@cm4all.com>  Thu, 19 Oct 2006 11:00:15 +0200

cm4all-workshop (0.1.1) unstable; urgency=low

  * added -doc package
  * build-depend on xsltproc and docbook-xsl
  * install .sql file
  * doc: added installation instructions

 -- Max Kellermann <mk@cm4all.com>  Mon, 16 Oct 2006 14:55:43 +0200

cm4all-workshop (0.1.0) unstable; urgency=low

  * initial release

 -- Max Kellermann <mk@cm4all.com>  Mon, 16 Oct 2006 12:07:01 +0200
